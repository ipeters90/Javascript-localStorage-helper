/**
 * An HTML5 LocalStorage helper library. 
 * https://github.com/ipeters90/javascript-localstorage-helper/
 * 
 * @author Ike Peters
 */

'use strict';

function getStorageManager(){return new storageManager}function storageManager(){var t=window.localStorage;this.get=function(e){var n;try{n=JSON.parse(t.getItem(e))}catch(r){n=t.getItem(e)}return n},this.set=function(e,n,r){var i=(new Date).getTime()+1e3*r;return t.setItem(e,JSON.stringify(n),i),this.get(e)},this.remove=function(e){e in t&&t.removeItem(e);var n=this.get(e);return void 0===n||null===n},this.setProperty=function(e,n,r,i){var s=this.get(e),a=(new Date).getTime()+1e3*i;if("object"==typeof s&&null!==s)s[n]=r,t.setItem(e,JSON.stringify(s),a);else{if(void 0!==s)throw"Not an object";var o={};o[n]=r,this.set(e,o,a)}},this.clear=function(){var e=t.length;return t.clear(),e},this.getAll=function(){for(var e=[],n=0,r=t.length;r>n;n++)e.push(this.get(t.key(n)));return e.length?e:null},this.size=function(){return this.getAll().length},this.has=function(t){return null!==this.get(t)}}