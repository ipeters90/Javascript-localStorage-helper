/**
 * An HTML5 LocalStorage helper library. 
 * https://github.com/ipeters90/javascript-localstorage-helper/
 * 
 * @author Ike Peters
 */

!function(t){"use strict";var e=t.localStorage,r=function(){};r.prototype.get=function(t){var r;try{r=JSON.parse(e.getItem(t))}catch(n){r=e.getItem(t)}return r},r.prototype.set=function(t,r,n){var o=(new Date).getTime()+1e3*n;return e.setItem(t,JSON.stringify(r),o),this.get(t)},r.prototype.remove=function(t){t in e&&e.removeItem(t);var r=this.get(t);return void 0===r||null===r},r.prototype.setProperty=function(t,r,n,o){var i=this.get(t),s=(new Date).getTime()+1e3*o;if("object"==typeof i&&null!==i)i[r]=n,e.setItem(t,JSON.stringify(i),s);else{if(void 0!==i)throw"Not an object";var u={};u[r]=n,this.set(t,u,s)}},r.prototype.clear=function(){var t=e.length;return e.clear(),t},r.prototype.getAll=function(){for(var t=[],r=0,n=e.length;n>r;r++)t.push(this.get(e.key(r)));return t.length?t:null},r.prototype.size=function(){return this.getAll().length},r.prototype.has=function(t){return null!==this.get(t)},r.prototype.setBulk=function(t,e){var r,n=Object.keys(t),o=n.length;for(r=0;o>r;r++)this.set(n[r],t[n[r]],e)},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.getKeys=function(){var t,r=[],n=e.length;for(t=0;n>t;t++)r.push(e.key(t));return r},r.prototype.toObject=function(){var t,e={},r=this.getKeys(),n=r.length;for(t=0;n>t;t++)e[r[t]]=this.get(r[t]);return e},t.StorageManager||(t.StorageManager=r)}(window);