/**
 * An HTML5 LocalStorage helper library. 
 * https://github.com/ipeters90/javascript-localstorage-helper/
 * 
 * @author Ike Peters
 */

!function(t){"use strict";var e=t.localStorage,r=function(){};r.prototype.get=function(t){var r;try{r=JSON.parse(e.getItem(t))}catch(n){r=e.getItem(t)}return r},r.prototype.set=function(t,r,n){var o=(new Date).getTime()+1e3*n;return e.setItem(t,JSON.stringify(r),o),this.get(t)},r.prototype.remove=function(t){t in e&&e.removeItem(t);var r=this.get(t);return void 0===r||null===r},r.prototype.setProperty=function(t,r,n,o){var i=this.get(t),a=(new Date).getTime()+1e3*o;if("object"==typeof i&&null!==i)i[r]=n,e.setItem(t,JSON.stringify(i),a);else{if(void 0!==i)throw"Not an object";var g={};g[r]=n,this.set(t,g,a)}},r.prototype.clear=function(){var t=e.length;return e.clear(),t},r.prototype.getAll=function(){for(var t=[],r=0,n=e.length;n>r;r++)t.push(this.get(e.key(r)));return t.length?t:null},r.prototype.size=function(){return this.getAll().length},r.prototype.has=function(t){return null!==this.get(t)},t.StorageManager||(t.StorageManager=r)}(window);